# These patches are needed, because we merge the Kratos spec with the Hydra spec (and others) to create the
# Ory Client spec.
# Hydra defines "OAuth2Client" (and the other schemas mentioned here) as well, which is where Kratos' "OAuth2Client"
# comes from originally. It is generated by our SDK generator. This leads to a clash and some generators can not
# deal with this. So we rename these fields to be lowercase, so that they can be merged in the spec for the `client`
# generation.
# Also see https://github.com/ory/sdk/issues/226
- op: add
  path: /components/schemas/oAuth2LoginRequest
  value:
    '$ref': 'https://raw.githubusercontent.com/ory/hydra/d7a28e9445101c455f48269913abd5878c17fbca/spec/api.json#/components/schemas/oAuth2LoginRequest'

- op: remove
  path: /components/schemas/OAuth2LoginRequest
- op: replace
  path: /components/schemas/loginFlow/properties/oauth2_login_request/$ref
  value: '#/components/schemas/oAuth2LoginRequest'
- op: replace
  path: /components/schemas/registrationFlow/properties/oauth2_login_request/$ref
  value: '#/components/schemas/oAuth2LoginRequest'
