# These patches are needed, because we merge the Kratos spec with the Hydra spec (and others) to create the 
# Ory Client spec.
# Hydra defines "OAuth2Client" (and the other schemas mentioned here) as well, which is where Kratos' "OAuth2Client"
# comes from originally. It is generated by our SDK generator. This leads to a clash and some generators can not
# deal with this. So we rename these fields to have a "kratos" prefix to distignuish them
# Also see https://github.com/ory/sdk/issues/226
- op: copy
  from: /components/schemas/OAuth2Client
  path: /components/schemas/oAuth2Client
- op: remove
  path: /components/schemas/OAuth2Client
- op: replace
  path: /components/schemas/OAuth2LoginRequest/properties/client/$ref
  value: '#/components/schemas/oAuth2Client'

- op: copy
  from: /components/schemas/OAuth2ConsentRequestOpenIDConnectContext
  path: /components/schemas/oAuth2ConsentRequestOpenIDConnectContext
- op: remove
  path: /components/schemas/OAuth2ConsentRequestOpenIDConnectContext
- op: replace
  path: /components/schemas/OAuth2LoginRequest/properties/oidc_context/$ref
  value: '#/components/schemas/oAuth2ConsentRequestOpenIDConnectContext'

- op: copy
  from: /components/schemas/OAuth2LoginRequest
  path: /components/schemas/oAuth2LoginRequest
- op: remove
  path: /components/schemas/OAuth2LoginRequest
- op: replace
  path: /components/schemas/loginFlow/properties/oauth2_login_request/$ref
  value: '#/components/schemas/oAuth2LoginRequest'
- op: replace
  path: /components/schemas/registrationFlow/properties/oauth2_login_request/$ref
  value: '#/components/schemas/oAuth2LoginRequest'
